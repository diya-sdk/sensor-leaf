<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../sensor-base/sensor-base.html">
<link rel="import" href="../leaf-scale/leaf-scale.html">

<!--
    TODO(polyup): Inheriting from other custom elements is not yet supported.
    See: https://www.polymer-project.org/1.0/docs/migration.html#inheritance
 -->
<dom-module id="sensor-leaf">
  <style>
			:host{
				display: flex;
				flex-direction: row;
				justify-content: space-between;
				align-items: center;

				font-size: 1.7em;

				overflow: hidden;
			}

			p#label{
				margin: 0px;
				margin-bottom: 20px;
				font-size: 2em;
				color: white;
				text-shadow: 2px 2px #000;
			}

		</style>
  <template>

		<p id="label">{{label}}</p>

		<leaf-scale id="scale" leafcount="{{leafCount}}"></leaf-scale>

		

	</template>
  <script>
    Polymer({
      is: 'sensor-leaf',
      properties: {
        leafCount: {
          type: Number,
          value: 4,
          notify: true
        },
        value: { observer: 'valueChanged' }
      },
      ready: function () {
        this.super();
      },
      valueChanged: function () {
        var level = this.value / (this.max - this.min) * this.leafCount;
        this.$.scale.setLevel(level);
      },
      extends: 'sensor-base'
    });
  </script>
</dom-module>
